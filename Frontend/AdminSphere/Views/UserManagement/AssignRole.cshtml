@using NLayer.Core.Entities.Authorization
@model List<AssignRole>
@{
    ViewData["Title"] = "AssignRole";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="p-6 bg-gray-100 min-h-screen">
    <h2 class="text-2xl font-bold text-gray-700 mb-4">Rol Atama - @Model.FirstOrDefault()?.Username</h2>
    <form asp-action="AssignRole" method="post" class="bg-white shadow rounded p-4">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4"> 
            @for (int i = 0; i < Model.Count; i++)
            {
            <div class="flex items-center gap-4 p-2 border rounded shadow-sm">
                <input type="checkbox" id="role-@Model[i].RoleId" name="[@i].HasAssign" value="true" class="form-checkbox h-5 w-5 text-blue-500"
                    @(Model[i].HasAssign ? "checked" : "") />
                <label for="role-@Model[i].RoleId" class="text-gray-700 font-medium">@Model[i].RoleName</label>
                <input type="hidden" name="[@i].UserId" value="@Model[i].UserId" />
                <input type="hidden" name="[@i].RoleId" value="@Model[i].RoleId" />
                <input type="hidden" name="[@i].RoleName" value="@Model[i].RoleName" />
                <input type="hidden" name="[@i].Username" value="@Model[i].Username" />
            </div>
            }
</div>
        <div class="mt-4 flex justify-end gap-2">
            <a href="/UserManagement" class="bg-gray-500 text-white px-4 py-2 rounded shadow hover:bg-gray-600">İptal</a>
            <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded shadow hover:bg-blue-600">Kaydet</button>
        </div>
    </form>
</div>
